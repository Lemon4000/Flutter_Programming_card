# 过滤未知设备功能

## 修改说明

### 问题
扫描结果中显示了很多"未知设备"，这些设备没有广播名称，影响用户体验。

### 解决方案
在设备列表中过滤掉名称为"未知设备"的设备，只显示有名称的设备。

### 修改内容

**文件**：`lib/data/repositories/device_repository_impl.dart`

**修改位置**：第 33-48 行

**修改前**：
```dart
final devices = scanResults
    .map((result) {
      // ... 转换逻辑
    })
    .toList();
```

**修改后**：
```dart
final devices = scanResults
    .map((result) {
      // ... 转换逻辑
    })
    .where((device) => device.name != '未知设备') // 过滤掉未知设备
    .toList();
```

### 效果

**修改前**：
```
设备列表：
- LMNB (信号强度: -45)
- ThinkBook Mouse (信号强度: -50)
- 未知设备 (信号强度: -60)
- 未知设备 (信号强度: -65)
- 未知设备 (信号强度: -70)
```

**修改后**：
```
设备列表：
- LMNB (信号强度: -45)
- ThinkBook Mouse (信号强度: -50)
```

### 优点

1. **界面更清晰**：只显示有意义的设备
2. **减少干扰**：不显示无法识别的设备
3. **提高效率**：用户可以快速找到目标设备

### 注意事项

- 如果设备没有广播名称，将不会出现在列表中
- 已配对的设备即使没有广播名称，也会显示（因为可以从系统获取名称）
- 如果需要查看所有设备（包括未知设备），可以临时注释掉过滤代码

### 测试步骤

1. 运行应用：
   ```bash
   ./run-linux.sh
   ```

2. 进入"设备"标签页

3. 点击"开始扫描"

4. 观察设备列表，应该只显示有名称的设备

### 预期结果

✅ 只显示有名称的设备
✅ 不显示"未知设备"
✅ 已配对设备正常显示
✅ 设备列表更清晰

## 总结

通过简单的 `.where()` 过滤，有效地隐藏了未知设备，提升了用户体验。
